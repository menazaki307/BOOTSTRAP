<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vue.js Shop – Product List</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  <style>
    body { background: #0f79e2; }
    .product-img { width: 100%; height: 180px; object-fit: cover; border-radius: 0.75rem; }
  </style>
</head>
<body>
  <div id="app">
    
    <nav class="navbar navbar-expand-lg bg-white shadow-sm">
      <div class="container">
        <a class="navbar-brand fw-bold" href="#">Bootstrap Shop</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navMenu">
          <ul class="navbar-nav ms-auto align-items-lg-center gap-3">
            <li class="nav-item">
              <span class="badge text-bg-primary p-2">Cart: {{ cartCount }}</span>
            </li>
            <li class="nav-item">
              <button class="btn btn-outline-secondary" @click="showProducts = !showProducts">
                {{ showProducts ? 'Hide Products' : 'Show Products' }}
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container my-4">
      <!-- Discount Message (v-if) -->
      <div v-if="discount > 0" class="alert alert-success" role="alert">
        Special discount {{ discount }}% on selected products today!
      </div>

      <div v-if="products.length === 0" class="alert alert-warning" role="alert">
        No products available at the moment.
      </div>

      <div v-show="showProducts && products.length" class="row g-4">
        <div v-for="p in products" :key="p.id" class="col-12 col-md-6 col-lg-4">
          <div class="card h-100 shadow-sm">
            <img :src="p.image" :alt="p.name" class="product-img" />
            <div class="card-body d-flex flex-column">
              <h5 class="card-title mb-1" :class="{ 'text-muted': !p.inStock }">{{ p.name }}</h5>
              <p class="card-text text-secondary mb-2">{{ p.description }}</p>
              <div class="mb-2 fw-semibold">Price: ${{ p.price.toFixed(2) }}</div>

              <div class="mb-3">
                <span v-if="p.inStock" class="text-success fw-semibold">In Stock</span>
                <span v-else-if="p.price < 50" class="text-warning fw-semibold">Limited Stock</span>
                <span v-else class="text-danger fw-semibold">Out of Stock</span>
              </div>

              <div class="mt-auto d-flex gap-2">
                <button class="btn btn-primary w-100" :disabled="!p.inStock" @click="addToCart(p)">
                  Add to Cart
                </button>
                <button class="btn btn-outline-danger" title="Remove Product" @click="removeProduct(p.id)">×</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-4" v-if="cart.length">
        <div class="card shadow-sm">
          <div class="card-body d-flex flex-wrap gap-3 align-items-center">
            <div class="fw-bold">Items in Cart: {{ cartCount }}</div>
            <div class="fw-bold">Total: ${{ totalPrice.toFixed(2) }}</div>
            <button class="btn btn-outline-secondary" @click="removeLastFromCart">Remove Last Item</button>
            <button class="btn btn-outline-dark" @click="clearCart">Clear Cart</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const { createApp } = Vue;

    createApp({
      data() {
        return {
          products: [
            {
              id: 1,
              name: 'T-shirts',
              price: 500,
              inStock: true,
              description: 'Suitable for everyone.',
              image: 'https://img.youm7.com/ArticleImgs/2018/7/15/80599-%D8%AA%D9%8A%D8%B4%D8%B1%D8%AA%D8%A7%D8%AA.jpg'
            },
            {
              id: 2,
              name: 'Party suit',
              price: 900,
              inStock: true,
              description: 'Suitable for all occasions.',
              image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHrleixONg_aP4oFDnaW1U1ORQ_1KExmKCfQ&s'
            },
            {
              id: 3,
              name: 'pants',
              price: 700,
              inStock: true,
              description: 'The pants are of high quality..',
              image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIgwt3dMciN7khoMK7IWi0k4RiD4pFmEZJKg&s'
            },
            {
              id: 4,
              name: 'Smart Watch',
              price: 3000,
              inStock: true,
              description: 'luxury watches.',
              image: 'https://img.joomcdn.net/f71ce2206794ecd092a07e886f31571ebe3b524b_original.jpeg'
            },
            {
              id: 5,
              name: 'Tie',
              price: 200,
              inStock: true,
              description: 'We have different colors.',
              image: 'https://m.media-amazon.com/images/I/31FfyH0UGCL._SY1000_.jpg'
            },
            {
              id: 6,
              name: 'perfumes',
              price: 1200,
              inStock: true,
              description: 'luxury perfumes.',
              image: 'https://catwastore.com/cdn/shop/products/png_20220304_162114_0000.png?v=1646403701&width=600'
            }
          ],
          cartCount: 0,
          showProducts: true,
          discount: 10,
          cart: []
        };
      },
      computed: {
        totalPrice() {
          return this.cart.reduce((sum, item) => sum + item.price, 0);
        }
      },
      methods: {
        addToCart(product) {
          this.cart.push(product);
          this.cartCount += 1;
          alert(`Added: ${product.name}`);
        },
        removeLastFromCart() {
          if (this.cart.length) {
            const last = this.cart.pop();
            this.cartCount = Math.max(0, this.cartCount - 1);
            alert(`Removed: ${last.name}`);
          }
        },
        clearCart() {
          this.cart = [];
          this.cartCount = 0;
        },
        removeProduct(id) {
          this.products = this.products.filter(p => p.id !== id);
        }
      }
    }).mount('#app');
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
